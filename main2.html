<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Load an icon library to show a hamburger menu (bars) on small screens -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>League of Quizz</title>
    <style>
        body {
            background-image: url('background.jpeg');
            background-size: 1920px 1080px;
            background-repeat: no-repeat;    
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            background-color: #cacacaa6;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }

        .imageContainer {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            background-color: #dfdfdfa6;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            margin-top: 10px;
        }

        /* Add CSS rules to make images fit inside imageContainer */
        .imageContainer img {
            max-width: 100%;
            max-height: 100%;
            display: block;
            margin: 0 auto;
            margin-top: 5px;
            margin-bottom: 15px;
            border-radius: 5px;
        }

        input[type="text"] {
            width: 94%;
            padding: 10px;
            margin-top: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        button {
            width: 100%;
            padding: 10px;
            background-color: #007BFF;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
        }
        body {
            font-family: Helvetica;
        }

        * { box-sizing: border-box; }
        body {
        font: 16px Arial; 
        }
        .autocomplete {
        /*the container must be positioned relative:*/
        position: relative;
        display: inline-block;
        }
        
        .autocomplete-items {
        position: absolute;
        border-bottom: none;
        border-top: none;
        z-index: 99;
        /*position the autocomplete items to be the same width as the container:*/
        top: 100%;
        left: 0;
        right: 0;
        
        }
        .autocomplete-items div {
        padding: 10px;
        cursor: pointer;
        background-color: #fff; 
        border-bottom: 1px solid #d4d4d4; 
        border-radius: 5px;
        width: 320px;
        }
        .autocomplete-items div:hover {
        /*when hovering an item:*/
        background-color: #e9e9e9; 
        }
        .autocomplete-active {
        /*when navigating through the items using the arrow keys:*/
        background-color: DodgerBlue !important; 
        color: #ffffff; 
        }

        /* Add a black background color to the top navigation */
        .topnav {
        background-color: #202020c2;
        overflow: hidden;
        border-radius: 5px;
        }

        /* Style the links inside the navigation bar */
        .topnav a {
        float: left;
        display: block;
        color: #f2f2f2;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
        font-size: 17px;
        }

        /* Change the color of links on hover */
        .topnav a:hover {
        background-color: #5d5d5d;
        color: rgb(255, 255, 255);
        }

        /* Add an active class to highlight the current page */
        .topnav a.active {
        background-color: #0160c6ad;
        color: white;
        }

        /* Hide the link that should open and close the topnav on small screens */
        .topnav .icon {
        display: none;
        }

        /* When the screen is less than 600 pixels wide, hide all links, except for the first one ("Home"). Show the link that contains should open and close the topnav (.icon) */
        @media screen and (max-width: 600px) {
        .topnav a:not(:first-child) {display: none;}
        .topnav a.icon {
            float: right;
            display: block;
        }
        }

        /* The "responsive" class is added to the topnav with JavaScript when the user clicks on the icon. This class makes the topnav look good on small screens (display the links vertically instead of horizontally) */
        @media screen and (max-width: 600px) {
        .topnav.responsive {position: relative;}
        .topnav.responsive a.icon {
            position: absolute;
            right: 0;
            top: 0;
        }
        .topnav.responsive a {
            float: none;
            display: block;
            text-align: left;
        }
        }
        
    </style>
</head>
<body>
    <div class="topnav" id="myTopnav">
        <a href="main.html" class="active">Normal</a>
        <a href="main2.html">Easy</a>
        <a href="main3.html">Extreme</a>
        <a href="#about">About</a>
        <a href="javascript:void(0);" class="icon" onclick="myFunction()">
          <i class="fa fa-bars"></i>
        </a>
    </div>
    <h1><center>League of Quizz</center></h1>
    <div class="container">
        <font size="+1"><center>Which champion has the whole splash art ?</center></font>
        <div class="imageContainer">
            <img id="croppedImage" src="" alt="Cropped Image">
            <div class="autocomplete" style="width:340px">
                <input type="text" placeholder="Type your answer here"id="guessInput" name="guess" required>
            </div>
            <div id="feedbackMessage"></div> 
            <button type="submit"id="guessButton">Guess</button>
        </div>
        
    </div>

    <script>
        // Wrap your code in an event listener for DOMContentLoaded
        document.addEventListener("DOMContentLoaded", function () {
            // Create an array of image file paths
            var imagePaths = [
                'Aatrox.jpg',
                'Ahri.jpg',
                'Akali.jpg',
                'Alistar.jpg',
                'Amumu.jpg',
                'Anivia.jpg',
                'Annie.jpg',
                'Ashe.jpg',
                'Azir.jpg',
                'Bard.jpg',
                'Blitzcrank.jpg',
                'Brand.jpg',
                'Braum.jpg',
                'Caitlyn.jpg',
                'Cassiopeia.jpg',
                "Cho'Gath.jpg",
                'Corki.jpg',
                'Darius.jpg',
                'Diana.jpg',
                'Dr.Mundo.jpg',
                'Draven.jpg',
                'Elise.jpg',
                'Evelynn.jpg',
                'Ezreal.jpg',
                'Fiddlesticks.jpg',
                'Fiora.jpg',
                'Fizz.jpg',
                'Galio.jpg',
                'Gangplank.jpg',
                'Garen.jpg',
                'Gnar.jpg',
                'Gragas.jpg',
                'Graves.jpg',
                'Hecarim.jpg',
                'Heimerdinger.jpg',
                'Irelia.jpg',
                'Janna.jpg',
                'Jarvan IV.jpg',
                'Jax.jpg',
                'Jayce.jpg',
                'Jinx.jpg',
                'Kalista.jpg',
                'Karma.jpg',
                'Karthus.jpg',
                'Kassadin.jpg',
                'Katarina.jpg',
                'Kayle.jpg',
                'Kennen.jpg',
                "Kha'Zix.jpg",
                "Kog'Maw.jpg",
                'Leblanc.jpg',
                'Lee Sin.jpg',
                'Leona.jpg',
                'Lissandra.jpg',
                'Lucian.jpg',
                'Lulu.jpg',
                'Lux.jpg',
                'Malphite.jpg',
                'Malzahar.jpg',
                'Maokai.jpg',
                'Master Yi.jpg',
                'Miss Fortune.jpg',
                'Mordekaiser.jpg',
                'Morgana.jpg',
                'Nami.jpg',
                'Nasus.jpg',
                'Nautilus.jpg',
                'Nidalee.jpg',
                'Nocturne.jpg',
                'Nunu.jpg',
                'Olaf.jpg',
                'Orianna.jpg',
                'Pantheon.jpg',
                'Poppy.jpg',
                'Quinn.jpg',
                'Rammus.jpg',
                "Rek'Sai.jpg",
                'Renekton.jpg',
                'Rengar.jpg',
                'Riven.jpg',
                'Rumble.jpg',
                'Ryze.jpg',
                'Sejuani.jpg',
                'Shaco.jpg',
                'Shen.jpg',
                'Shyvana.jpg',
                'Singed.jpg',
                'Sion.jpg',
                'Sivir.jpg',
                'Skarner.jpg',
                'Sona.jpg',
                'Soraka.jpg',
                'Swain.jpg',
                'Syndra.jpg',
                'Talon.jpg',
                'Taric.jpg',
                'Teemo.jpg',
                'Thresh.jpg',
                'Tristana.jpg',
                'Trundle.jpg',
                'Tryndamere.jpg',
                'Twisted Fate.jpg',
                'Twitch.jpg',
                'Udyr.jpg',
                'Urgot.jpg',
                'Varus.jpg',
                'Vayne.jpg',
                'Veigar.jpg',
                "Vel'Koz.jpg",
                'Vi.jpg',
                'Viktor.jpg',
                'Vladimir.jpg',
                'Volibear.jpg',
                'Warwick.jpg',
                'Wukong.jpg',
                'Xerath.jpg',
                "Xin'Zhao.jpg",
                'Yasuo.jpg',
                'Yorick.jpg',
                'Zac.jpg',
                'Zed.jpg',
                'Ziggs.jpg',
                'Zilean.jpg',
                'Zyra.jpg',

                // Add more image paths as needed
            ];

            var championNames = [
                'Aatrox',
                'Ahri',
                'Akali',
                'Alistar',
                'Amumu',
                'Anivia',
                'Annie',
                'Ashe',
                'Azir',
                'Bard',
                'Blitzcrank',
                'Brand',
                'Braum',
                'Caitlyn',
                'Cassiopeia',
                "Cho'Gath",
                'Corki',
                'Darius',
                'Diana',
                'Dr.Mundo',
                'Draven',
                'Elise',
                'Evelynn',
                'Ezreal',
                'Fiddlesticks',
                'Fiora',
                'Fizz',
                'Galio',
                'Gangplank',
                'Garen',
                'Gnar',
                'Gragas',
                'Graves',
                'Hecarim',
                'Heimerdinger',
                'Irelia',
                'Janna',
                'Jarvan IV',
                'Jax',
                'Jayce',
                'Jinx',
                'Kalista',
                'Karma',
                'Karthus',
                'Kassadin',
                'Katarina',
                'Kayle',
                'Kennen',
                "Kha'Zix",
                "Kog'Maw",
                'Leblanc',
                'Lee Sin',
                'Leona',
                'Lissandra',
                'Lucian',
                'Lulu',
                'Lux',
                'Malphite',
                'Malzahar',
                'Maokai',
                'Master Yi',
                'Miss Fortune',
                'Mordekaiser',
                'Morgana',
                'Nami',
                'Nasus',
                'Nautilus',
                'Nidalee',
                'Nocturne',
                'Nunu',
                'Olaf',
                'Orianna',
                'Pantheon',
                'Poppy',
                'Quinn',
                'Rammus',
                "Rek'Sai",
                'Renekton',
                'Rengar',
                'Riven',
                'Rumble',
                'Ryze',
                'Sejuani',
                'Shaco',
                'Shen',
                'Shyvana',
                'Singed',
                'Sion',
                'Sivir',
                'Skarner',
                'Sona',
                'Soraka',
                'Swain',
                'Syndra',
                'Talon',
                'Taric',
                'Teemo',
                'Thresh',
                'Tristana',
                'Trundle',
                'Tryndamere',
                'Twisted Fate',
                'Twitch',
                'Udyr',
                'Urgot',
                'Varus',
                'Vayne',
                'Veigar',
                "Vel'Koz",
                'Vi',
                'Viktor',
                'Vladimir',
                'Volibear',
                'Warwick',
                'Wukong',
                'Xerath',
                "Xin'Zhao",
                'Yasuo',
                'Yorick',
                'Zac',
                'Zed',
                'Ziggs',
                'Zilean',
                'Zyra'
            ];


            // Get a reference to the img element
            var croppedImg = document.getElementById("croppedImage");
            var guessInput = document.getElementById("guessInput");
            var guessButton = document.getElementById("guessButton");
            var feedbackMessage = document.getElementById("feedbackMessage");

            // Randomly select an index from the imagePaths array
            var randomIndex = Math.floor(Math.random() * imagePaths.length);

            /* Toggle between adding and removing the "responsive" class to topnav when the user clicks on the icon */
            function myFunction() {
                var x = document.getElementById("myTopnav");
                if (x.className === "topnav") {
                    x.className += " responsive";
                } else {
                    x.className = "topnav";
                }
            }

            function refreshPage() {
            // Add any code here that you want to execute before the page refreshes
            location.reload(); // Refresh the page
             }


            // Function to generate a random cropping position
            function getRandomCroppingPosition(image, width, height) {
                var maxX = image.width - width;
                var maxY = image.height - height;

                var randomX = Math.floor(Math.random() * maxX);
                var randomY = Math.floor(Math.random() * maxY);

                return { x: randomX, y: randomY };
            }

            // Function to display a random cropped image
            function displayRandomCroppedImage() {
                

                // Load the selected image
                var img = new Image();
                img.src = imagePaths[randomIndex];

                // When the image is loaded, crop it and set it as the source of the img element
                img.onload = function () {
                    // Define the fixed width and height for cropping
                    var cropWidth = 300;
                    var cropHeight = 300;

                    // Generate random cropping position
                    var croppingPosition = getRandomCroppingPosition(img, cropWidth, cropHeight);

                    // Create a temporary canvas for cropping
                    var tempCanvas = document.createElement("canvas");
                    tempCanvas.width = cropWidth;
                    tempCanvas.height = cropHeight;
                    var tempCtx = tempCanvas.getContext("2d");

                    // Crop the image to the specified position and size
                    tempCtx.drawImage(img, croppingPosition.x, croppingPosition.y, cropWidth, cropHeight, 0, 0, cropWidth, cropHeight);

                    // Set the src attribute of the img element to the cropped image
                    croppedImg.src = tempCanvas.toDataURL("image/jpeg");

                    // Clear the feedback message
                    feedbackMessage.textContent = "";
                };
                
            }

            function getCurrentImageAnswer() {
            // Get the source of the currently displayed image
            var currentImageSrc = croppedImg.src;

            // Split the image source by '/' to get the filename
            var parts = currentImageSrc.split('/');

            // Get the last part of the split, which is the filename
            var filename = parts[parts.length - 1];

            // Remove the ".jpg" suffix to get the champion's name
            var championName = filename.replace(".jpg", "");

            // Convert the champion's name to lowercase for case-insensitive matching
            championName = championName.toLowerCase();

            return championName;
}


            // Function to handle user's guess
            function handleGuess() {
                var userGuess = guessInput.value.trim().toLowerCase();
                var correctAnswer = championNames[randomIndex].toLowerCase(); // Implement this function to get the correct answer

                if (userGuess === correctAnswer) {
                    feedbackMessage.textContent = "Correct!";
                    // Display a new random cropped image
                    setTimeout(refreshPage, 1500);
                    
                } else {
                    feedbackMessage.textContent = "Incorrect. Try again!";
                    
                    console.log("user's guess:"+userGuess);
                    console.log("correct answer:"+correctAnswer);
                }

                // Clear the input field
                guessInput.value = "";

            }

            function autocomplete(inp, arr) {
                /*the autocomplete function takes two arguments,
                the text field element and an array of possible autocompleted values:*/
                var currentFocus;
                /*execute a function when someone writes in the text field:*/
                inp.addEventListener("input", function(e) {
                    var a, b, i, val = this.value;
                    /*close any already open lists of autocompleted values*/
                    closeAllLists();
                    if (!val) { return false;}
                    currentFocus = -1;
                    /*create a DIV element that will contain the items (values):*/
                    a = document.createElement("DIV");
                    a.setAttribute("id", this.id + "autocomplete-list");
                    a.setAttribute("class", "autocomplete-items");
                    /*append the DIV element as a child of the autocomplete container:*/
                    this.parentNode.appendChild(a);
                    /*for each item in the array...*/
                    for (i = 0; i < arr.length; i++) {
                        /*check if the item starts with the same letters as the text field value:*/
                        if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {
                        /*create a DIV element for each matching element:*/
                        b = document.createElement("DIV");
                        /*make the matching letters bold:*/
                        b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
                        b.innerHTML += arr[i].substr(val.length);
                        /*insert a input field that will hold the current array item's value:*/
                        b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
                        /*execute a function when someone clicks on the item value (DIV element):*/
                            b.addEventListener("click", function(e) {
                            /*insert the value for the autocomplete text field:*/
                            inp.value = this.getElementsByTagName("input")[0].value;
                            /*close the list of autocompleted values,
                            (or any other open lists of autocompleted values:*/
                            closeAllLists();
                        });
                        a.appendChild(b);
                        }
                    }
                });
                /*execute a function presses a key on the keyboard:*/
                inp.addEventListener("keydown", function(e) {
                    var x = document.getElementById(this.id + "autocomplete-list");
                    if (x) x = x.getElementsByTagName("div");
                    if (e.keyCode == 40) {
                        /*If the arrow DOWN key is pressed,
                        increase the currentFocus variable:*/
                        currentFocus++;
                        /*and and make the current item more visible:*/
                        addActive(x);
                    } else if (e.keyCode == 38) { //up
                        /*If the arrow UP key is pressed,
                        decrease the currentFocus variable:*/
                        currentFocus--;
                        /*and and make the current item more visible:*/
                        addActive(x);
                    } else if (e.keyCode == 13) {
                        /*If the ENTER key is pressed, prevent the form from being submitted,*/
                        e.preventDefault();
                        if (currentFocus > -1) {
                        /*and simulate a click on the "active" item:*/
                        if (x) x[currentFocus].click();
                        }
                    }
                });
                function addActive(x) {
                    /*a function to classify an item as "active":*/
                    if (!x) return false;
                    /*start by removing the "active" class on all items:*/
                    removeActive(x);
                    if (currentFocus >= x.length) currentFocus = 0;
                    if (currentFocus < 0) currentFocus = (x.length - 1);
                    /*add class "autocomplete-active":*/
                    x[currentFocus].classList.add("autocomplete-active");
                }
                function removeActive(x) {
                    /*a function to remove the "active" class from all autocomplete items:*/
                    for (var i = 0; i < x.length; i++) {
                    x[i].classList.remove("autocomplete-active");
                    }
                }
                function closeAllLists(elmnt) {
                    /*close all autocomplete lists in the document,
                    except the one passed as an argument:*/
                    var x = document.getElementsByClassName("autocomplete-items");
                    for (var i = 0; i < x.length; i++) {
                    if (elmnt != x[i] && elmnt != inp) {
                    x[i].parentNode.removeChild(x[i]);
                    }
                }
                }
                /*execute a function when someone clicks in the document:*/
                document.addEventListener("click", function (e) {
                    closeAllLists(e.target);
                });
                }

            autocomplete(document.getElementById("guessInput"), championNames);

            // Add an event listener to the "Guess" button
            guessButton.addEventListener("click", handleGuess);

            // Initially display a random cropped image
            displayRandomCroppedImage();

                
                
        });
    </script>
</body>
</html>


